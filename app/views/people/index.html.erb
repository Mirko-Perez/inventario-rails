<div class="page-header">
  <h1>People</h1>
  <%= link_to "New Person", new_person_path, class: "btn btn-primary" %>
</div>

<div class="people-grid">
  <% @people.each do |person| %>
    <div class="person-card">
      <div class="person-header">
        <h3><%= link_to person.full_name, person_path(person) %></h3>
      </div>
      <div class="person-body">
        <p><strong>Current Articles:</strong> <%= person.current_articles.count %></p>
        <% if person.current_articles.any? %>
          <ul class="article-list">
            <% person.current_articles.limit(3).each do |article| %>
              <li><%= link_to "#{article.brand} #{article.model}", article_path(article) %></li>
            <% end %>
            <% if person.current_articles.count > 3 %>
              <li>... and <%= person.current_articles.count - 3 %> more</li>
            <% end %>
          </ul>
        <% end %>
      </div>
      <div class="person-actions">
        <%= link_to "View", person_path(person), class: "btn btn-sm btn-outline" %>
        <%= link_to "Edit", edit_person_path(person), class: "btn btn-sm btn-outline" %>
      </div>
    </div>
  <% end %>
</div>

<% if @people.empty? %>
  <div class="empty-state">
    <h3>No people found</h3>
    <p>Start by <%= link_to "adding your first person", new_person_path %>.</p>
  </div>
<% end %>
